(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,a,t){e.exports=t(171)},139:function(e,a,t){},171:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(10),o=t.n(i),s=(t(139),t(17)),l=t(18),c=t(11),m=t(20),u=t(19),d=t(15),h=t(12),p=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement(d.b,{to:"/signin"},"SignIn"),r.a.createElement(d.b,{to:"/signup"},"SignUp"))}}]),t}(r.a.Component),g=t(27),v=t(30),E=t(218),f=t(214),b=t(102),w=t(219),S=t(61),y=t(210),C=t(220),O=t(221),k=t(52),j=t.n(k),P=t(51),N=t.n(P),I=(t(58),t(43)),x=t.n(I),A=t(104),M=t.n(A).a.create({baseURL:"/api/v1/",timeout:15e3}),F=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={verifyId:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var a=e.target.name,t=e.target.value;this.setState(Object(v.a)({},a,t))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),M.post("/auth/verify",{email:this.props.email,verifyId:this.state.verifyId}).then((function(e){alert(e.data.message+". Click OK to continue to your Dashboard."),a.props.onSuccess()})).catch((function(e){console.error(e),a.props.onError(e.response.data.message)}))}},{key:"resendId",value:function(){var e=this;M.post("/auth/resend-verifyId",{email:this.props.email}).then((function(a){alert(a.data.message+" to ".concat(e.props.email))})).catch((function(e){console.error(e),alert("An error occurred")}))}},{key:"render",value:function(){var e=this,a=this.state.verifyId;return r.a.createElement("div",null,r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",null,r.a.createElement("img",{className:"Logo",src:x.a,alt:"just4u logo"}),r.a.createElement(S.a,{component:"h1",variant:"body1",id:"message"},"Please enter the verification ID sent to ",this.props.email),r.a.createElement("p",null),r.a.createElement(S.a,{component:"h2",variant:"body2",id:"error",color:"error"},this.props.error),r.a.createElement("p",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"verifyId",label:"Verification ID",name:"verifyId",value:a,onChange:this.handleChange}),r.a.createElement("p",null),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit"),r.a.createElement("p",null),r.a.createElement(w.a,{container:!0,className:"justify-content-md-center"},r.a.createElement(w.a,{item:!0},r.a.createElement(d.b,{to:"/signin",onClick:function(){return e.resendId()}},"Resend verification ID")))))))}}]),t}(r.a.Component),D=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={email:"",password:"",stage:"signin",showPassword:!1,verificationError:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.successVerification=n.successVerification.bind(Object(c.a)(n)),n.errorVerification=n.errorVerification.bind(Object(c.a)(n)),n}return Object(l.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var a=e.target.name,t=e.target.value;this.setState(Object(v.a)({},a,t))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),M.post("/auth/signin",{email:this.state.email,password:this.state.password}).then((function(e){console.log(e.data.message),e.data.isVerified?a.props.onSuccess():a.setState({stage:"verification"})})).catch((function(e){console.error(e),a.props.onError(e.response.data.message)}))}},{key:"handleClickShowPassword",value:function(){this.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{showPassword:!e.showPassword})}))}},{key:"errorVerification",value:function(e){this.setState({verificationError:e})}},{key:"successVerification",value:function(){this.props.onSuccess()}},{key:"render",value:function(){var e=this,a=this.state,t=a.showPassword,n=a.email,i=a.password,o=a.verificationError,s=a.stage,l=this.props.messageColor;return"verification"===s?r.a.createElement("div",null,r.a.createElement(F,{email:n,error:o,onError:this.errorVerification,onSuccess:this.successVerification})):r.a.createElement("div",null,r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",null,r.a.createElement("img",{className:"Logo",src:x.a,alt:"just4u logo"}),r.a.createElement(S.a,{component:"h1",variant:"h5",style:{display:"block",margin:"auto",textAlign:"center"}},"Sign In"),r.a.createElement(S.a,{component:"h2",variant:"body2",id:"message",style:{color:l}},this.props.message),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",value:n,onChange:this.handleChange}),r.a.createElement(b.a,{id:"password",variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:t?"text":"password",value:i,onChange:this.handleChange,InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(O.a,{"aria-label":"toggle password visibility",onClick:function(){return e.handleClickShowPassword()}},t?r.a.createElement(N.a,null):r.a.createElement(j.a,null)))}}),r.a.createElement("p",null),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign In"),r.a.createElement("p",null),r.a.createElement(w.a,{container:!0,className:"justify-content-md-center"},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(d.b,{to:"/forgot-password"},"Forgot password")),r.a.createElement(w.a,{item:!0},r.a.createElement(d.b,{to:"/signup"},"Don't have an account? Sign Up")))))))}}]),t}(r.a.Component),T=t(22),V={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},W=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={success:!1,firstName:n.props.prevFirstName,lastName:n.props.prevLastName,email:n.props.prevEmail,password:"",state:n.props.prevState,showPassword:!1},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){T.ValidatorForm.addValidationRule("validPassword",(function(e){return!(e.length<8||e.toUpperCase()===e||e.toLowerCase()===e||!/[0-9]/.test(e))})),T.ValidatorForm.addValidationRule("isState",(function(e){return!!Object.keys(V).includes(e)}))}},{key:"componentWillUnmount",value:function(){T.ValidatorForm.removeValidationRule("validPassword"),T.ValidatorForm.removeValidationRule("isState")}},{key:"handleChange",value:function(e){e.preventDefault();var a=e.target.name,t=e.target.value;this.setState(Object(v.a)({},a,t))}},{key:"handleClickShowPassword",value:function(){this.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{showPassword:!e.showPassword})}))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state,n=t.email,r=t.password,i=t.firstName,o=t.lastName,s=t.state;M.post("/auth/signup",{email:n,password:r,firstName:i,lastName:o,state:s}).then((function(e){console.log(e.data.message),a.setState({success:!0},(function(){a.props.onSuccess()}))})).catch((function(e){console.error(e),a.props.onError(e.response.data.message,n,i,o,s)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.password,i=a.firstName,o=a.lastName,s=a.state,l=a.showPassword;return this.state.success?r.a.createElement(h.Redirect,{to:"/signin"}):r.a.createElement("div",null,r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",null,r.a.createElement("img",{className:"Logo",src:x.a,alt:"just4u logo"}),r.a.createElement(S.a,{component:"h1",variant:"h5",style:{display:"block",margin:"auto",textAlign:"center"}},"Sign Up"),r.a.createElement(S.a,{component:"h2",variant:"body2",color:"error",id:"message"},this.props.message),r.a.createElement("p",null),r.a.createElement(T.ValidatorForm,{onSubmit:this.handleSubmit},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(T.TextValidator,{autoComplete:"fname",name:"firstName",variant:"outlined",fullWidth:!0,id:"firstName",label:"First Name",value:i,onChange:this.handleChange,validators:["required"],errorMessages:["This field is required"],autoFocus:!0})),r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(T.TextValidator,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:o,onChange:this.handleChange,validators:["required"],errorMessages:["This field is required"],autoComplete:"lname"})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.TextValidator,{variant:"outlined",fullWidth:!0,id:"email",label:"Email Address",name:"email",validators:["required","isEmail"],errorMessages:["This field is required","Invalid email"],value:t,onChange:this.handleChange})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.TextValidator,{id:"password",variant:"outlined",fullWidth:!0,name:"password",label:"Password",validators:["required","validPassword"],errorMessages:["This field is required","Password must have at least 8 characters, 1 lowercase character, 1 uppercase character, and 1 digit."],autoComplete:"current-password",type:l?"text":"password",value:n,onChange:this.handleChange,InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(O.a,{"aria-label":"toggle password visibility",onClick:function(){return e.handleClickShowPassword()}},l?r.a.createElement(N.a,null):r.a.createElement(j.a,null)))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.TextValidator,{variant:"outlined",fullWidth:!0,name:"state",label:"State/Territory (two-letter code, e.g. CA, DC, TX)",id:"state",validators:["required","isState"],errorMessages:["This field is required","Invalid state/territory abbreviation. At the moment we only support users from US states and territories."],value:s,onChange:this.handleChange,autoComplete:"state",inputProps:{maxLength:2}})),r.a.createElement(w.a,{item:!0,xs:12})),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),r.a.createElement("p",null),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(d.b,{to:"/signin",onClick:this.ChangeToSignInPage,variant:"body2"},"Already have an account? Sign in")))))))}}]),t}(r.a.Component),U=t(122),R=t(229),L=t(5),B=t(231),H=t(53),q=t(3),z=t(225),K=t(233),Y=t(217),G=t(222),J=t(223),X=t(224),Z=t(113),Q=t.n(Z),$=t(107),_=t.n($),ee=t(108),ae=t.n(ee),te=t(109),ne=t.n(te),re=t(110),ie=t.n(re),oe=t(111),se=t.n(oe),le=t(112),ce=t.n(le),me=t(114),ue=t.n(me),de=[{id:"Your Stuff",children:[{id:"User Profile",icon:r.a.createElement(_.a,null),to:"user"},{id:"Cases",icon:r.a.createElement(ae.a,null),to:"cases"},{id:"Events",icon:r.a.createElement(ne.a,null),to:"events"},{id:"Tasks",icon:r.a.createElement(ie.a,null),to:"tasks"},{id:"Calendar",icon:r.a.createElement(se.a,null),to:"calendar"},{id:"Contacts",icon:r.a.createElement(ce.a,null),to:"contacts"}]}],he=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={active:""},n}return Object(l.a)(t,[{key:"signOut",value:function(){M.get("/auth/signout").then((function(){window.location.reload()})).catch((function(e){console.error(e)}))}},{key:"changeActive",value:function(e){this.setState({active:e})}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=Object(H.a)(a,["classes"]),i=this.state.active;return r.a.createElement(K.a,Object.assign({variant:"permanent"},n),r.a.createElement(Y.a,{disablePadding:!0},r.a.createElement(G.a,{className:Object(q.a)(t.firebase,t.item,t.itemCategory)},"Navigation"),r.a.createElement(d.b,{to:"/0",style:{textDecoration:"none"}},r.a.createElement(G.a,{className:Object(q.a)(t.item,t.itemCategory,""===i&&t.itemActiveItem),button:!0,onClick:function(){return e.changeActive("")}},r.a.createElement(J.a,{className:t.itemIcon},r.a.createElement(Q.a,null)),r.a.createElement(X.a,{classes:{primary:t.itemPrimary}},"Dashboard"))),r.a.createElement(G.a,{className:Object(q.a)(t.item,t.itemCategory),button:!0,onClick:function(){return e.signOut()}},r.a.createElement(J.a,{className:t.itemIcon},r.a.createElement(ue.a,null)),r.a.createElement(X.a,{classes:{primary:t.itemPrimary}},"Sign Out")),de.map((function(a){var n=a.id,o=a.children;return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(G.a,{className:t.categoryHeader},r.a.createElement(X.a,{classes:{primary:t.categoryHeaderPrimary}},n)),o.map((function(a){var n=a.id,o=a.icon,s=a.to;return r.a.createElement(d.b,{to:"/0/".concat(s),style:{textDecoration:"none"},key:n},r.a.createElement(G.a,{key:n,button:!0,onClick:function(){return e.changeActive(s)},className:Object(q.a)(t.item,i===s&&t.itemActiveItem)},r.a.createElement(J.a,{className:t.itemIcon},o),r.a.createElement(X.a,{classes:{primary:t.itemPrimary}},n)))})),r.a.createElement(z.a,{className:t.divider}))}))))}}]),t}(r.a.Component),pe=Object(L.a)((function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}}))(he),ge=t(226),ve=t(227),Ee=t(172),fe=t(234),be=t(115),we=t.n(be),Se=t(117),ye=t.n(Se);var Ce=Object(L.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){var a=e.classes;return r.a.createElement(Ee.a,{className:a.paper},r.a.createElement(ge.a,{className:a.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(ve.a,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(we.a,{className:a.block,color:"inherit"})),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(b.a,{fullWidth:!0,placeholder:"Search by email address, phone number, or user UID",InputProps:{disableUnderline:!0,className:a.searchInput}})),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{variant:"contained",color:"primary",className:a.addUser},"Add user"),r.a.createElement(fe.a,{title:"Reload"},r.a.createElement(O.a,null,r.a.createElement(ye.a,{className:a.block,color:"inherit"}))))))),r.a.createElement("div",{className:a.contentWrapper},r.a.createElement(S.a,{color:"textSecondary",align:"center"},"No users for this project yet")))})),Oe=t(119),ke=t.n(Oe),je=t(121),Pe=t.n(je),Ne=t(228),Ie=t(230),xe=t(120),Ae=t.n(xe);var Me=Object(L.a)((function(e){return{secondaryBar:{zIndex:0},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}}))((function(e){var a=e.classes,t=e.onDrawerToggle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{color:"primary",position:"sticky",elevation:0},r.a.createElement(ve.a,null,r.a.createElement(w.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(B.a,{smUp:!0},r.a.createElement(w.a,{item:!0},r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:t,className:a.menuButton},r.a.createElement(ke.a,null)))),r.a.createElement(w.a,{item:!0,xs:!0}),r.a.createElement(w.a,{item:!0},r.a.createElement(fe.a,{title:"User Page"},r.a.createElement(O.a,{color:"inherit",className:a.iconButtonAvatar},r.a.createElement(Ae.a,{to:"/0/user",style:{textDecoration:"none",color:"#FFF"}},r.a.createElement(Pe.a,null)))))))),r.a.createElement(ge.a,{component:"div",className:a.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(ve.a,null,r.a.createElement(w.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(S.a,{color:"inherit",variant:"h5",component:"h1"},"Authentication"))))),r.a.createElement(ge.a,{component:"div",className:a.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(Ie.a,{value:0,textColor:"inherit"},r.a.createElement(Ne.a,{textColor:"inherit",label:"Profile"}),r.a.createElement(Ne.a,{textColor:"inherit",label:"Settings"}))))})),Fe=Object(U.a)({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}});Fe=Object(g.a)(Object(g.a)({},Fe),{},{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:Fe.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:Fe.palette.common.white}},MuiTab:{root:Object(v.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},Fe.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:Fe.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:Fe.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}});var De={root:{display:"flex",minHeight:"100vh"},drawer:Object(v.a)({},Fe.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:Fe.spacing(6,4),background:"#eaeff1"},footer:{padding:Fe.spacing(2),background:"#eaeff1"}},Te=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handleDrawerToggle=function(){n.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{mobileOpen:!e.mobileOpen})}))},n.state={mobileOpen:!1},n}return Object(l.a)(t,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state.mobileOpen;return r.a.createElement(R.a,{theme:Fe},r.a.createElement("div",{className:a.root},r.a.createElement(f.a,null),r.a.createElement("nav",{className:a.drawer},r.a.createElement(B.a,{smUp:!0,implementation:"js"},r.a.createElement(pe,{PaperProps:{style:{width:256}},variant:"temporary",open:t,onClose:function(){return e.handleDrawerToggle()}})),r.a.createElement(B.a,{xsDown:!0,implementation:"css"},r.a.createElement(pe,{PaperProps:{style:{width:256}}}))),r.a.createElement("div",{className:a.app},r.a.createElement(Me,{onDrawerToggle:function(){return e.handleDrawerToggle()}}),r.a.createElement("main",{className:a.main},r.a.createElement(Ce,null)))))}}]),t}(r.a.Component),Ve=Object(L.a)(De)(Te),We=function(e){var a=e.component,t=e.isAuth,n=Object(H.a)(e,["component","isAuth"]);return r.a.createElement(h.Route,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(h.Redirect,{to:"/"})}}))},Ue=function(e){var a=e.component,t=e.isAuth,n=(e.restricted,Object(H.a)(e,["component","isAuth","restricted"]));return r.a.createElement(h.Route,Object.assign({},n,{render:function(e){return t?r.a.createElement(h.Redirect,{to:"/0"}):r.a.createElement(a,e)}}))},Re=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={stage:n.props.stage,email:n.props.email,resetCode:"",newPassword:"",showPassword:!1},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){T.ValidatorForm.addValidationRule("validPassword",(function(e){return!(e.length<8||e.toUpperCase()===e||e.toLowerCase()===e||!/[0-9]/.test(e))}))}},{key:"componentWillUnmount",value:function(){T.ValidatorForm.removeValidationRule("validPassword")}},{key:"handleClickShowPassword",value:function(){this.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{showPassword:!e.showPassword})}))}},{key:"handleChange",value:function(e){e.preventDefault();var a=e.target.name,t=e.target.value;this.setState(Object(v.a)({},a,t))}},{key:"resendCode",value:function(){var e=this;M.post("/auth/reset-password",{email:this.state.email}).then((function(){alert("New reset code sent to ".concat(e.state.email))})).catch((function(e){console.error(e),alert("An error occurred")}))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state,n=t.stage,r=t.email,i=t.resetCode,o=t.newPassword;switch(n){case"email":M.post("/auth/reset-password",{email:r}).then((function(){a.props.onSuccess("resetCode",r)})).catch((function(e){console.error(e),a.props.onError(e.response.data.message)}));break;case"resetCode":M.post("/auth/confirm-reset-code",{email:r,resetCode:i}).then((function(){a.props.onSuccess("newPassword",r)})).catch((function(e){console.error(e),a.props.onError(e.response.data.message)}));break;case"newPassword":M.post("/auth/new-password",{email:r,newPassword:o}).then((function(){alert("New password set. Click OK to redirect to Sign In page."),a.props.onSuccess("done","")})).catch((function(e){console.error(e),a.props.onError(e.response.data.message)}))}}},{key:"render",value:function(){var e,a,t=this,n=this.state,i=n.stage,o=n.email,s=n.resetCode,l=n.newPassword,c=n.showPassword;if("done"===i)return r.a.createElement(h.Redirect,{to:"/signin"});switch(i){case"email":a="Please enter your email",e=r.a.createElement(b.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o,onChange:this.handleChange});break;case"resetCode":a="Please enter the reset code sent to "+o,e=r.a.createElement(b.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"resetCode",label:"Reset Code",name:"resetCode",value:s,onChange:this.handleChange});break;case"newPassword":a="Please enter your new password",e=r.a.createElement(T.TextValidator,{id:"newPassword",variant:"outlined",fullWidth:!0,name:"newPassword",label:"New Password",validators:["required","validPassword"],errorMessages:["This field is required","Password must have at least 8 characters, 1 lowercase character, 1 uppercase character, and 1 digit."],type:c?"text":"password",value:l,onChange:this.handleChange,InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(O.a,{"aria-label":"toggle password visibility",onClick:function(){return t.handleClickShowPassword()}},c?r.a.createElement(N.a,null):r.a.createElement(j.a,null)))}})}return r.a.createElement("div",null,r.a.createElement(y.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",null,r.a.createElement("img",{className:"Logo",src:x.a,alt:"just4u logo"}),r.a.createElement(S.a,{component:"h1",variant:"h5",style:{display:"block",margin:"auto",textAlign:"center"}},"Reset Password"),r.a.createElement("p",null),r.a.createElement(S.a,{component:"h2",variant:"body1",id:"promptMessage"},a),r.a.createElement("p",null),r.a.createElement(S.a,{component:"h2",variant:"body2",id:"errorMessage",color:"error"},this.props.errorMessage),r.a.createElement("p",null),r.a.createElement(T.ValidatorForm,{onSubmit:this.handleSubmit},e,r.a.createElement("p",null),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit"),r.a.createElement("p",null),r.a.createElement(w.a,{container:!0,className:"justify-content-md-center"},r.a.createElement(w.a,{item:!0,xs:!0},"resetCode"===i?r.a.createElement(d.b,{to:"/forgot-password",onClick:function(){return t.resendCode()}},"Resend code"):r.a.createElement("p",null)),r.a.createElement(w.a,{item:!0},r.a.createElement(d.b,{to:"/signin"},"Sign In")))))))}}]),t}(r.a.Component),Le=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={loading:!0,isAuthenticated:!1,messageSignIn:"",messageSignInColor:"",errorMessageForgotPassword:"",stageForgotPassword:"email",emailForgotPassword:"",signUpError:{message:"",prevEmail:"",prevFirstName:"",prevLastName:"",prevState:""}},n.successSignIn=n.successSignIn.bind(Object(c.a)(n)),n.errorSignIn=n.errorSignIn.bind(Object(c.a)(n)),n.successSignUp=n.successSignUp.bind(Object(c.a)(n)),n.errorSignUp=n.errorSignUp.bind(Object(c.a)(n)),n.errorForgotPassword=n.errorForgotPassword.bind(Object(c.a)(n)),n.successStageForgotPassword=n.successStageForgotPassword.bind(Object(c.a)(n)),n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.get("/auth").then((function(a){a.data.isVerified?e.setState({isAuthenticated:!0},(function(){e.setState({loading:!1})})):a.data.isAuthenticated?a.data.isAuthenticated&&!a.data.isVerified&&M.get("/auth/signout").then((function(a){e.setState({isAuthenticated:!1},(function(){e.setState({loading:!1})}))})).catch((function(e){console.error(e)})):e.setState({isAuthenticated:!1},(function(){e.setState({loading:!1})}))})).catch((function(e){console.error(e)}))}},{key:"successSignIn",value:function(){this.setState({isAuthenticated:!0,isVerified:!0,messageSignIn:"",messageSignInColor:""})}},{key:"errorSignIn",value:function(e){this.setState({messageSignIn:e,messageSignInColor:"red"})}},{key:"successSignUp",value:function(){this.setState({messageSignIn:"Signup successful. Please sign in and verify user.",messageSignInColor:"green",signUpError:{message:"",prevEmail:"",prevFirstName:"",prevLastName:"",prevState:""}})}},{key:"errorSignUp",value:function(e,a,t,n,r){this.setState({signUpError:{message:e,prevEmail:a,prevFirstName:t,prevLastName:n,prevState:r}})}},{key:"errorForgotPassword",value:function(e){this.setState({errorMessageForgotPassword:e})}},{key:"successStageForgotPassword",value:function(e,a){this.setState({errorMessageForgotPassword:"",stageForgotPassword:e,emailForgotPassword:a})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("h1",null,"Loading..."):r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(h.Switch,null,r.a.createElement(Ue,{isAuth:this.state.isAuthenticated,component:p,path:"/",exact:!0}),r.a.createElement(Ue,{isAuth:this.state.isAuthenticated,component:function(a){return r.a.createElement(Re,Object.assign({},a,{stage:e.state.stageForgotPassword,email:e.state.emailForgotPassword,onSuccess:e.successStageForgotPassword,onError:e.errorForgotPassword,errorMessage:e.state.errorMessageForgotPassword}))},path:"/forgot-password",exact:!0}),r.a.createElement(Ue,{isAuth:this.state.isAuthenticated,component:function(a){return r.a.createElement(D,Object.assign({},a,{onSuccess:e.successSignIn,onError:e.errorSignIn,message:e.state.messageSignIn,messageColor:e.state.messageSignInColor}))},path:"/signin",exact:!0}),r.a.createElement(Ue,{isAuth:this.state.isAuthenticated,component:function(a){return r.a.createElement(W,Object.assign({},a,{onSuccess:e.successSignUp,onError:e.errorSignUp,message:e.state.signUpError.message,prevEmail:e.state.signUpError.prevEmail,prevFirstName:e.state.signUpError.prevFirstName,prevLastName:e.state.signUpError.prevLastName,prevState:e.state.signUpError.prevState}))},path:"/signup",exact:!0}),r.a.createElement(We,{component:Ve,isAuth:this.state.isAuthenticated,path:"/0"}),r.a.createElement(h.Route,null,r.a.createElement("h1",null,"404 Not Found")))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)),document.getElementById("root"))},43:function(e,a,t){e.exports=t.p+"static/media/Logo.4993ea66.png"},58:function(e,a,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.130960d1.chunk.js.map